<main>
	<section class="about">
		<div class="profile">
			<p-avatar
				size="xlarge"
				shape="circle"
				image="images/profile-pic.jpg"
			/>

			<div class="info">
				<span class="name">Mario Di Modica</span>

				<div class="kpis">
					@for (kpi of kpis; track $index) {
						<portfolio-kpi
							[label]="kpi.label"
							[value]="kpi.value"
						/>
					}
				</div>
			</div>
		</div>

		<span class="description">
			<b>Front-End Software Engineer</b> with deep expertise in Angular, RxJS and Signals,
			crafting scalable and performant web applications. Also exploring React and modern UI
			technologies.
		</span>

		<portfolio-avatar-list
			[avatars]="techStackList"
			description="Tech Stack"
		/>

		<portfolio-avatar-list
			[avatars]="companies"
			description="Companies where I worked"
			[isCollapsed]="true"
		/>

		<div class="actions">
			<p-button
				label="View CV"
				[fluid]="true"
				[size]="isMobile() ? 'small' : 'large'"
				(onClick)="viewCV()"
				icon="pi pi-external-link"
			/>

			<p-button
				label="Contact me"
				[fluid]="true"
				[size]="isMobile() ? 'small' : 'large'"
				[outlined]="true"
				(onClick)="isMailDrawerVisible = !isMailDrawerVisible"
			/>
		</div>
	</section>

	<section class="tabs">
		<p-tabs
			[value]="selectedTab"
			(valueChange)="onTabChange($event)"
		>
			<p-tablist>
				<p-tab
					value="experience"
					[routerLink]="paths.EXPERIENCE"
				>
					<i class="pi pi-briefcase"></i>
					<span class="tab-label">Experience</span>
				</p-tab>

				<p-tab
					value="education"
					[routerLink]="paths.EDUCATION"
				>
					<i class="pi pi-graduation-cap"></i>
					<span class="tab-label">Education</span>
				</p-tab>

				<p-tab
					value="projects"
					[routerLink]="paths.PROJECTS"
				>
					<i class="pi pi-code"></i>
					<span class="tab-label">Projects</span>
				</p-tab>
			</p-tablist>
		</p-tabs>

		<router-outlet />
	</section>

	<p-button
		class="floating-btn"
		[size]="isMobile() ? 'small' : 'large'"
		[icon]="isDarkMode() ? 'pi pi-sun' : 'pi pi-moon'"
		[rounded]="true"
		(onClick)="toggleDarkMode()"
	/>
</main>

<p-toast />

<p-drawer
	header="How to reach me"
	[(visible)]="isMailDrawerVisible"
	position="right"
>
	<div class="contacts-drawer">
		<div>
			<p>This is my email address: <small>mariodimodica.01&#64;gmail.com</small></p>

			<p class="description">
				You can either copy it or open your default mail app and send me an email!
			</p>

			<div class="actions">
				<p-button
					label="Send"
					icon="pi pi-envelope"
					[fluid]="true"
					[size]="isMobile() ? 'small' : 'large'"
					(onClick)="sendEmail()"
				/>

				<p-button
					label="Copy"
					icon="pi pi-copy"
					[fluid]="true"
					[outlined]="true"
					[size]="isMobile() ? 'small' : 'large'"
					(onClick)="copyEmail()"
				/>
			</div>
		</div>

		<div class="socials">
			<a
				href="https://www.instagram.com/not_mxo/"
				target="_blank"
				rel="noopener noreferrer"
				class="p-button p-button-text"
			>
				<i class="pi pi-instagram"></i>
			</a>

			<a
				href="https://www.linkedin.com/in/mariodimodica/"
				target="_blank"
				rel="noopener noreferrer"
				class="p-button p-button-text"
			>
				<i class="pi pi-linkedin"></i>
			</a>

			<a
				href="https://github.com/Mxo01"
				target="_blank"
				rel="noopener noreferrer"
				class="p-button p-button-text"
			>
				<i class="pi pi-github"></i>
			</a>
		</div>
	</div>
</p-drawer>
