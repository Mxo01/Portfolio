<main>
	<section class="about">
		<div class="profile">
			<p-avatar
				size="xlarge"
				shape="circle"
				image="images/profile-pic.jpg"
			/>

			<div class="info">
				<span class="name">Mario Di Modica</span>

				<div class="kpis">
					@for (kpi of kpis; track $index) {
						<portfolio-kpi
							[label]="kpi.label"
							[value]="kpi.value"
						/>
					}
				</div>
			</div>
		</div>

		<span class="description">
			<b>Front-End Software Engineer</b> with deep expertise in Angular, RxJS and Signals,
			crafting scalable and performant web applications. Also exploring React and modern UI
			technologies.
		</span>

		<portfolio-avatar-list
			[avatars]="techStackList"
			description="Tech Stack"
		/>

		<portfolio-avatar-list
			[avatars]="companies"
			description="Companies where I worked"
			[isCollapsed]="true"
		/>

		<div class="actions">
			<p-button
				label="Download CV"
				[fluid]="true"
				[size]="isMobile() ? 'small' : 'large'"
			/>

			<p-button
				label="Contact me"
				[fluid]="true"
				[size]="isMobile() ? 'small' : 'large'"
				[outlined]="true"
			/>
		</div>
	</section>

	<section class="tabs">
		<p-tabs
			[value]="selectedTab"
			(valueChange)="onTabChange($event)"
		>
			<p-tablist>
				<p-tab
					value="experience"
					[routerLink]="paths.EXPERIENCE"
				>
					<i class="pi pi-briefcase"></i>
					<span class="tab-label">Experience</span>
				</p-tab>

				<p-tab
					value="education"
					[routerLink]="paths.EDUCATION"
				>
					<i class="pi pi-graduation-cap"></i>
					<span class="tab-label">Education</span>
				</p-tab>

				<p-tab
					value="projects"
					[routerLink]="paths.PROJECTS"
				>
					<i class="pi pi-code"></i>
					<span class="tab-label">Projects</span>
				</p-tab>
			</p-tablist>
		</p-tabs>

		<router-outlet />
	</section>

	<p-button
		class="floating-btn"
		[size]="isMobile() ? 'small' : 'large'"
		[icon]="isDarkMode() ? 'pi pi-sun' : 'pi pi-moon'"
		[rounded]="true"
		(onClick)="toggleDarkMode()"
	/>
</main>
